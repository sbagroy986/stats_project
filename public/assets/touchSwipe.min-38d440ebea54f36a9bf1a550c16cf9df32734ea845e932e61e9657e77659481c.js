!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=d),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),s=n.data(P);s||(s=new i(this,t),n.data(P,s))})}function i(t,i){function k(t){if(!(dt()||e(t.target).closest(i.excludedElements,Ut).length>0)){var n,s=t.originalEvent?t.originalEvent:t,o=j?s.touches[0]:s;return Yt=w,j?_t=s.touches.length:t.preventDefault(),Nt=0,Lt=null,Ht=null,Ot=0,Vt=0,zt=0,Rt=1,Wt=0,qt=mt(),Bt=vt(),rt(),!j||_t===i.fingers||i.fingers===y||B()?(ht(0,o),Qt=Et(),2==_t&&(ht(1,s.touches[1]),Vt=zt=wt(qt[0].start,qt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=N(s,Yt))):n=!1,n===!1?(Yt=S,N(s,Yt),n):(i.hold&&(ei=setTimeout(e.proxy(function(){Ut.trigger("hold",[s.target]),i.hold&&(n=i.hold.call(Ut,s,s.target))},this),i.longTapThreshold)),ut(!0),null)}}function F(e){var t=e.originalEvent?e.originalEvent:e;if(Yt!==T&&Yt!==S&&!lt()){var n,s=j?t.touches[0]:t,o=ct(s);if(Xt=Et(),j&&(_t=t.touches.length),i.hold&&clearTimeout(ei),Yt=C,2==_t&&(0==Vt?(ht(1,t.touches[1]),Vt=zt=wt(qt[0].start,qt[1].start)):(ct(t.touches[1]),zt=wt(qt[0].end,qt[1].end),Ht=Tt(qt[0].end,qt[1].end)),Rt=Ct(Vt,zt),Wt=Math.abs(Vt-zt)),_t===i.fingers||i.fingers===y||!j||B()){if(Lt=xt(o.start,o.end),W(e,Lt),Nt=St(o.start,o.end),Ot=bt(),ft(Lt,Nt),(i.swipeStatus||i.pinchStatus)&&(n=N(t,Yt)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var a=!0;if(i.triggerOnTouchLeave){var r=Pt(this);a=kt(o.end,r)}!i.triggerOnTouchEnd&&a?Yt=D(C):i.triggerOnTouchLeave&&!a&&(Yt=D(T)),(Yt==S||Yt==T)&&N(t,Yt)}}else Yt=S,N(t,Yt);n===!1&&(Yt=S,N(t,Yt))}}function M(e){var t=e.originalEvent;return j&&t.touches.length>0?(at(),!0):(lt()&&(_t=Kt),Xt=Et(),Ot=bt(),V()||!O()?(Yt=S,N(t,Yt)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&Yt===C?(e.preventDefault(),Yt=T,N(t,Yt)):!i.triggerOnTouchEnd&&G()?(Yt=T,L(t,Yt,p)):Yt===C&&(Yt=S,N(t,Yt)),ut(!1),null)}function $(){_t=0,Xt=0,Qt=0,Vt=0,zt=0,Rt=1,rt(),ut(!1)}function A(e){var t=e.originalEvent;i.triggerOnTouchLeave&&(Yt=D(T),N(t,Yt))}function I(){Ut.unbind(Mt,k),Ut.unbind(Dt,$),Ut.unbind($t,F),Ut.unbind(At,M),It&&Ut.unbind(It,A),ut(!1)}function D(e){var t=e,n=R(),s=O(),o=V();return!n||o?t=S:!s||e!=C||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!s&&e==T&&i.triggerOnTouchLeave&&(t=S):t=T,t}function N(e,t){var i=void 0;return q()||_()?i=L(e,t,h):(U()||B())&&i!==!1&&(i=L(e,t,c)),st()&&i!==!1?i=L(e,t,m):ot()&&i!==!1?i=L(e,t,f):nt()&&i!==!1&&(i=L(e,t,p)),t===S&&$(e),t===T&&(j?0==e.touches.length&&$(e):$(e)),i}function L(t,d,u){var g=void 0;if(u==h){if(Ut.trigger("swipeStatus",[d,Lt||null,Nt||0,Ot||0,_t,qt]),i.swipeStatus&&(g=i.swipeStatus.call(Ut,t,d,Lt||null,Nt||0,Ot||0,_t,qt),g===!1))return!1;if(d==T&&Y()){if(Ut.trigger("swipe",[Lt,Nt,Ot,_t,qt]),i.swipe&&(g=i.swipe.call(Ut,t,Lt,Nt,Ot,_t,qt),g===!1))return!1;switch(Lt){case n:Ut.trigger("swipeLeft",[Lt,Nt,Ot,_t,qt]),i.swipeLeft&&(g=i.swipeLeft.call(Ut,t,Lt,Nt,Ot,_t,qt));break;case s:Ut.trigger("swipeRight",[Lt,Nt,Ot,_t,qt]),i.swipeRight&&(g=i.swipeRight.call(Ut,t,Lt,Nt,Ot,_t,qt));break;case o:Ut.trigger("swipeUp",[Lt,Nt,Ot,_t,qt]),i.swipeUp&&(g=i.swipeUp.call(Ut,t,Lt,Nt,Ot,_t,qt));break;case a:Ut.trigger("swipeDown",[Lt,Nt,Ot,_t,qt]),i.swipeDown&&(g=i.swipeDown.call(Ut,t,Lt,Nt,Ot,_t,qt))}}}if(u==c){if(Ut.trigger("pinchStatus",[d,Ht||null,Wt||0,Ot||0,_t,Rt,qt]),i.pinchStatus&&(g=i.pinchStatus.call(Ut,t,d,Ht||null,Wt||0,Ot||0,_t,Rt,qt),g===!1))return!1;if(d==T&&H())switch(Ht){case r:Ut.trigger("pinchIn",[Ht||null,Wt||0,Ot||0,_t,Rt,qt]),i.pinchIn&&(g=i.pinchIn.call(Ut,t,Ht||null,Wt||0,Ot||0,_t,Rt,qt));break;case l:Ut.trigger("pinchOut",[Ht||null,Wt||0,Ot||0,_t,Rt,qt]),i.pinchOut&&(g=i.pinchOut.call(Ut,t,Ht||null,Wt||0,Ot||0,_t,Rt,qt))}}return u==p?(d===S||d===T)&&(clearTimeout(Jt),clearTimeout(ei),K()&&!et()?(Zt=Et(),Jt=setTimeout(e.proxy(function(){Zt=null,Ut.trigger("tap",[t.target]),i.tap&&(g=i.tap.call(Ut,t,t.target))},this),i.doubleTapThreshold)):(Zt=null,Ut.trigger("tap",[t.target]),i.tap&&(g=i.tap.call(Ut,t,t.target)))):u==m?(d===S||d===T)&&(clearTimeout(Jt),Zt=null,Ut.trigger("doubletap",[t.target]),i.doubleTap&&(g=i.doubleTap.call(Ut,t,t.target))):u==f&&(d===S||d===T)&&(clearTimeout(Jt),Zt=null,Ut.trigger("longtap",[t.target]),i.longTap&&(g=i.longTap.call(Ut,t,t.target))),g}function O(){var e=!0;return null!==i.threshold&&(e=Nt>=i.threshold),e}function V(){var e=!1;return null!==i.cancelThreshold&&null!==Lt&&(e=gt(Lt)-Nt>=i.cancelThreshold),e}function z(){return null!==i.pinchThreshold?Wt>=i.pinchThreshold:!0}function R(){var e;return e=i.maxTimeThreshold&&Ot>=i.maxTimeThreshold?!1:!0}function W(e,t){if(i.allowPageScroll===d||B())e.preventDefault();else{var r=i.allowPageScroll===u;switch(t){case n:(i.swipeLeft&&r||!r&&i.allowPageScroll!=g)&&e.preventDefault();break;case s:(i.swipeRight&&r||!r&&i.allowPageScroll!=g)&&e.preventDefault();break;case o:(i.swipeUp&&r||!r&&i.allowPageScroll!=v)&&e.preventDefault();break;case a:(i.swipeDown&&r||!r&&i.allowPageScroll!=v)&&e.preventDefault()}}}function H(){var e=Q(),t=X(),i=z();return e&&t&&i}function B(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function U(){return!(!H()||!B())}function Y(){var e=R(),t=O(),i=Q(),n=X(),s=V(),o=!s&&n&&i&&t&&e;return o}function _(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function q(){return!(!Y()||!_())}function Q(){return _t===i.fingers||i.fingers===y||!j}function X(){return 0!==qt[0].end.x}function G(){return!!i.tap}function K(){return!!i.doubleTap}function Z(){return!!i.longTap}function J(){if(null==Zt)return!1;var e=Et();return K()&&e-Zt<=i.doubleTapThreshold}function et(){return J()}function tt(){return(1===_t||!j)&&(isNaN(Nt)||Nt<i.threshold)}function it(){return Ot>i.longTapThreshold&&b>Nt}function nt(){return!(!tt()||!G())}function st(){return!(!J()||!K())}function ot(){return!(!it()||!Z())}function at(){Gt=Et(),Kt=event.touches.length+1}function rt(){Gt=0,Kt=0}function lt(){var e=!1;if(Gt){var t=Et()-Gt;t<=i.fingerReleaseThreshold&&(e=!0)}return e}function dt(){return!(Ut.data(P+"_intouch")!==!0)}function ut(e){e===!0?(Ut.bind($t,F),Ut.bind(At,M),It&&Ut.bind(It,A)):(Ut.unbind($t,F,!1),Ut.unbind(At,M,!1),It&&Ut.unbind(It,A,!1)),Ut.data(P+"_intouch",e===!0)}function ht(e,t){var i=void 0!==t.identifier?t.identifier:0;return qt[e].identifier=i,qt[e].start.x=qt[e].end.x=t.pageX||t.clientX,qt[e].start.y=qt[e].end.y=t.pageY||t.clientY,qt[e]}function ct(e){var t=void 0!==e.identifier?e.identifier:0,i=pt(t);return i.end.x=e.pageX||e.clientX,i.end.y=e.pageY||e.clientY,i}function pt(e){for(var t=0;t<qt.length;t++)if(qt[t].identifier==e)return qt[t]}function mt(){for(var e=[],t=0;5>=t;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function ft(e,t){t=Math.max(t,gt(e)),Bt[e].distance=t}function gt(e){return Bt[e]?Bt[e].distance:void 0}function vt(){var e={};return e[n]=yt(n),e[s]=yt(s),e[o]=yt(o),e[a]=yt(a),e}function yt(e){return{direction:e,distance:0}}function bt(){return Xt-Qt}function wt(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+n*n))}function Ct(e,t){var i=t/e*1;return i.toFixed(2)}function Tt(){return 1>Rt?l:r}function St(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function jt(e,t){var i=e.x-t.x,n=t.y-e.y,s=Math.atan2(n,i),o=Math.round(180*s/Math.PI);return 0>o&&(o=360-Math.abs(o)),o}function xt(e,t){var i=jt(e,t);return 45>=i&&i>=0?n:360>=i&&i>=315?n:i>=135&&225>=i?s:i>45&&135>i?a:o}function Et(){var e=new Date;return e.getTime()}function Pt(t){t=e(t);var i=t.offset(),n={left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()};return n}function kt(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var Ft=j||E||!i.fallbackToMouseEvents,Mt=Ft?E?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",$t=Ft?E?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",At=Ft?E?x?"MSPointerUp":"pointerup":"touchend":"mouseup",It=Ft?null:"mouseleave",Dt=E?x?"MSPointerCancel":"pointercancel":"touchcancel",Nt=0,Lt=null,Ot=0,Vt=0,zt=0,Rt=1,Wt=0,Ht=0,Bt=null,Ut=e(t),Yt="start",_t=0,qt=null,Qt=0,Xt=0,Gt=0,Kt=0,Zt=0,Jt=null,ei=null;try{Ut.bind(Mt,k),Ut.bind(Dt,$)}catch(ti){e.error("events not supported "+Mt+","+Dt+" on jQuery.swipe")}this.enable=function(){return Ut.bind(Mt,k),Ut.bind(Dt,$),Ut},this.disable=function(){return I(),Ut},this.destroy=function(){return I(),Ut.data(P,null),Ut},this.option=function(t,n){if(void 0!==i[t]){if(void 0===n)return i[t];i[t]=n}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var n="left",s="right",o="up",a="down",r="in",l="out",d="none",u="auto",h="swipe",c="pinch",p="tap",m="doubletap",f="longtap",g="horizontal",v="vertical",y="all",b=10,w="start",C="move",T="end",S="cancel",j="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,E=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,P="TouchSwipe",k={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(i){var n=e(this),s=n.data(P);if(s&&"string"==typeof i){if(s[i])return s[i].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(s||"object"!=typeof i&&i))return t.apply(this,arguments);return n},e.fn.swipe.defaults=k,e.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:C,PHASE_END:T,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:n,RIGHT:s,UP:o,DOWN:a,IN:r,OUT:l},e.fn.swipe.pageScroll={NONE:d,HORIZONTAL:g,VERTICAL:v,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:y}});